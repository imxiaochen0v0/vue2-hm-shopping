(function(){"use strict";var e={4025:function(e,t,n){n.d(t,{Ad:function(){return c},I3:function(){return i},N6:function(){return s},Z5:function(){return o},_G:function(){return u}});var r=n(2194);const o=e=>{const{goodsId:t,goodsNum:n,goodsSkuId:o}=e;return r.Z.post("/cart/add",{goodsId:t,goodsNum:n,goodsSkuId:o})},i=()=>r.Z.get("/cart/total"),u=()=>r.Z.get("/cart/list"),c=e=>{const{goodsId:t,goodsNum:n,goodsSkuId:o}=e;return r.Z.post("/cart/update",{goodsId:t,goodsNum:n,goodsSkuId:o})},s=e=>r.Z.post("/cart/clear",{cartIds:e})},8327:function(e,t,n){var r=n(7126),o=function(){var e=this,t=e._self._c;return t("div",[t("router-view")],1)},i=[],u={},c=u,s=n(6967),a=(0,s.Z)(c,o,i,!1,null,"a1482922",null),d=a.exports,f=n(6057),l=n(371);r.ZP.use(f.ZP);const p=new f.ZP({routes:[{path:"/",redirect:"/home",component:()=>n.e(997).then(n.bind(n,8997)),children:[{path:"/home",component:()=>n.e(177).then(n.bind(n,5177))},{path:"/cart",component:()=>n.e(259).then(n.bind(n,7475))},{path:"/category",component:()=>n.e(399).then(n.bind(n,399))},{path:"/user",component:()=>n.e(959).then(n.bind(n,3959))}]},{path:"/login",component:()=>n.e(49).then(n.bind(n,2049))},{path:"/myOrder",component:()=>n.e(328).then(n.bind(n,7328))},{path:"/pay",component:()=>n.e(963).then(n.bind(n,2963))},{path:"/proDetail/:id",component:()=>n.e(170).then(n.bind(n,2170))},{path:"/search",component:()=>n.e(615).then(n.bind(n,4615))},{path:"/searchList",component:()=>n.e(52).then(n.bind(n,2052))}]}),h=["/myOrder","/pay"];p.beforeEach(((e,t,n)=>{if(!h.includes(e.path))return void n();const r=l.Z.getters.token;r?n():n("/login")}));var m=p,g=(n(2288),n(8957)),Z=(n(9107),n(2996)),v=(n(9926),n(6863)),b=(n(9206),n(210)),y=(n(3610),n(9893)),P=(n(7259),n(6985)),C=(n(70),n(7061)),k=(n(8160),n(5640)),_=(n(4941),n(44)),A=(n(6920),n(3133)),S=(n(5097),n(4417)),w=(n(1634),n(3925)),I=(n(5154),n(6914)),O=(n(2740),n(9504)),N=(n(5235),n(452)),L=(n(606),n(1402)),j=(n(4275),n(2886)),E=(n(1238),n(360)),T=(n(5815),n(9814)),x=(n(4046),n(3605)),B=(n(5155),n(7329)),F=(n(103),n(6393)),J=(n(3978),n(6878));r.ZP.use(J.Z),r.ZP.use(F.Z),r.ZP.use(B.Z),r.ZP.use(x.Z),r.ZP.use(T.Z),r.ZP.use(E.Z),r.ZP.use(j.Z),r.ZP.use(L.Z),r.ZP.use(N.Z),r.ZP.use(O.Z),r.ZP.use(I.Z),r.ZP.use(w.Z),r.ZP.use(S.Z),r.ZP.use(A.Z),r.ZP.use(_.Z),r.ZP.use(k.Z),r.ZP.use(C.Z),r.ZP.use(P.Z),r.ZP.use(y.Z),r.ZP.use(b.Z),r.ZP.use(v.Z),r.ZP.use(Z.Z),r.ZP.use(g.Z),r.ZP.config.productionTip=!1,new r.ZP({router:m,store:l.Z,render:e=>e(d)}).$mount("#app")},371:function(e,t,n){n.d(t,{Z:function(){return a}});var r=n(7126),o=n(8401),i=n(1582),u={namespaced:!0,state(){return{userInfo:(0,i.C5)()}},getters:{},mutations:{setUserInfo(e,t){e.userInfo=t,(0,i.CX)(t)}},actions:{logout(e){e.commit("setUserInfo",{}),e.commit("cart/setCartList",[],{root:!0})}}},c=n(4025),s={namespaced:!0,state(){return{cartList:[]}},getters:{cartTotal(e){return e.cartList.reduce(((e,t)=>e+t.goods_num),0)},cartActive(e){return e.cartList.filter((e=>e.isChecked))},cartActiveTotal(e,t){return t.cartActive.reduce(((e,t)=>e+t.goods_num),0)},cartActivePrice(e,t){return t.cartActive.reduce(((e,t)=>e+t.goods.goods_price_min*t.goods_num),0).toFixed(2)},isAllChecked(e){return e.cartList.every((e=>e.isChecked))}},mutations:{setCartList(e,t){e.cartList=t.map((e=>({...e,isChecked:!0})))},toggleCheck(e,t){const n=e.cartList.find((e=>e.goods_id===t));n.isChecked=!n.isChecked},toggleAllCheck(e,t){e.cartList.forEach((e=>{e.isChecked=t}))},changeCartCount(e,{goodsNum:t,goodsId:n}){const r=e.cartList.find((e=>e.goods_id===n));r.goods_num=t}},actions:{async getCartAction(e){const{data:t}=await(0,c._G)();e.commit("setCartList",t.list)},async changeCartAction(e,t){e.commit("changeCartCount",t),await(0,c.Ad)(t)},async delCartAction(e){const t=e.getters.cartActive.map((e=>e.id));await(0,c.N6)(t),e.dispatch("getCartAction")}}};r.ZP.use(o.ZP);var a=new o.ZP.Store({state:{},getters:{token(e){return e.user.userInfo.token}},mutations:{},actions:{},modules:{user:u,cart:s}})},2194:function(e,t,n){n(7259);var r=n(6985),o=n(1186),i=n(371);const u=o.Z.create({baseURL:"http://cba.itlike.com/public/index.php?s=/api",timeout:5e3});u.interceptors.request.use((function(e){r.Z.loading({message:"加载中...",forbidClick:!0,duration:0});const t=i.Z.getters.token;return t&&(e.headers["Access-Token"]=t,e.headers.platform="H5"),e}),(function(e){return Promise.reject(e)})),u.interceptors.response.use((function(e){const t=e.data;return 200!==t.status?((0,r.Z)(t.message),Promise.reject(t.message)):(r.Z.clear(),e.data)}),(function(e){return Promise.reject(e)})),t.Z=u},1582:function(e,t,n){n.d(t,{C5:function(){return i},CX:function(){return u},JB:function(){return s},s1:function(){return c}});const r="hm_shopping_info",o="hm_shopping_history",i=()=>{const e=localStorage.getItem(r);return e?JSON.parse(e):{token:"",userId:""}},u=e=>{localStorage.setItem(r,JSON.stringify(e))},c=()=>{const e=localStorage.getItem(o);return e?JSON.parse(e):[]},s=e=>{localStorage.setItem(o,JSON.stringify(e))}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,r,o,i){if(!r){var u=1/0;for(d=0;d<e.length;d++){r=e[d][0],o=e[d][1],i=e[d][2];for(var c=!0,s=0;s<r.length;s++)(!1&i||u>=i)&&Object.keys(n.O).every((function(e){return n.O[e](r[s])}))?r.splice(s--,1):(c=!1,i<u&&(u=i));if(c){e.splice(d--,1);var a=o();void 0!==a&&(t=a)}}return t}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[r,o,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+"."+{49:"1ffc8ea6",52:"1c29c275",170:"c24429f4",177:"5a699262",259:"970ace44",328:"595d95cb",399:"6e461874",615:"27a62011",959:"5f23cdfb",963:"754cfc25",997:"e381f8db"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+e+"."+{49:"4d2957d1",52:"3b092832",170:"185f5eda",177:"fab3bb6d",259:"55485513",328:"b11c9a95",399:"72ea568b",615:"5840a70c",959:"a8642489",963:"5b2158c4"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="hm-shopping:";n.l=function(r,o,i,u){if(e[r])e[r].push(o);else{var c,s;if(void 0!==i)for(var a=document.getElementsByTagName("script"),d=0;d<a.length;d++){var f=a[d];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+i){c=f;break}}c||(s=!0,c=document.createElement("script"),c.charset="utf-8",c.timeout=120,n.nc&&c.setAttribute("nonce",n.nc),c.setAttribute("data-webpack",t+i),c.src=r),e[r]=[o];var l=function(t,n){c.onerror=c.onload=null,clearTimeout(p);var o=e[r];if(delete e[r],c.parentNode&&c.parentNode.removeChild(c),o&&o.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(l.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=l.bind(null,c.onerror),c.onload=l.bind(null,c.onload),s&&document.head.appendChild(c)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p=""}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,r,o){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css";var u=function(n){if(i.onerror=i.onload=null,"load"===n.type)r();else{var u=n&&("load"===n.type?"missing":n.type),c=n&&n.target&&n.target.href||t,s=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");s.code="CSS_CHUNK_LOAD_FAILED",s.type=u,s.request=c,i.parentNode&&i.parentNode.removeChild(i),o(s)}};return i.onerror=i.onload=u,i.href=t,n?n.parentNode.insertBefore(i,n.nextSibling):document.head.appendChild(i),i},t=function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=n[r],i=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(i===e||i===t))return o}var u=document.getElementsByTagName("style");for(r=0;r<u.length;r++){o=u[r],i=o.getAttribute("data-href");if(i===e||i===t)return o}},r=function(r){return new Promise((function(o,i){var u=n.miniCssF(r),c=n.p+u;if(t(u,c))return o();e(r,c,null,o,i)}))},o={143:0};n.f.miniCss=function(e,t){var n={49:1,52:1,170:1,177:1,259:1,328:1,399:1,615:1,959:1,963:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=r(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))}}}(),function(){var e={143:0};n.f.j=function(t,r){var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise((function(n,r){o=e[t]=[n,r]}));r.push(o[2]=i);var u=n.p+n.u(t),c=new Error,s=function(r){if(n.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),u=r&&r.target&&r.target.src;c.message="Loading chunk "+t+" failed.\n("+i+": "+u+")",c.name="ChunkLoadError",c.type=i,c.request=u,o[1](c)}};n.l(u,s,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,i,u=r[0],c=r[1],s=r[2],a=0;if(u.some((function(t){return 0!==e[t]}))){for(o in c)n.o(c,o)&&(n.m[o]=c[o]);if(s)var d=s(n)}for(t&&t(r);a<u.length;a++)i=u[a],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(d)},r=self["webpackChunkhm_shopping"]=self["webpackChunkhm_shopping"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(8327)}));r=n.O(r)})();
//# sourceMappingURL=app.82e7dba8.js.map